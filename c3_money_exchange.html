<!-- ================================================================= -->
<!-- FILE: unit3.html (æ–°æª”æ¡ˆ)                                       -->
<!-- ================================================================= -->
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å–®å…ƒä¸‰ï¼šå…Œæ›é‡‘éŒ¢</title>
    <!-- ç°¡åŒ–ä¸»é¡Œç³»çµ±æ¨£å¼ -->
    <link rel="stylesheet" href="css/ai-theme.css">
    <link rel="stylesheet" href="css/dark-theme.css">
    <link rel="stylesheet" href="css/unit6.css">
    <style>
        /* ç¢ºä¿ script æ¨™ç±¤ä¸æœƒé¡¯ç¤º */
        script {
            display: none !important;
        }

        /* ã€ä¿®æ­£ç‰ˆã€‘å¾¹åº•ç¦ç”¨è¡Œå‹•è£ç½®ä¸Šçš„ä¸‹æ‹‰é‡æ–°æ•´ç†åŠŸèƒ½
           åŒæ™‚é‡å° html, body, å’Œ #app å®¹å™¨é€²è¡Œè¨­ç½®ï¼Œç¢ºä¿å®Œå…¨è¦†è“‹ */
        html, body, #app {
            overscroll-behavior-y: contain;
        }
        
        /* å…Œæ›ç›®æ¨™é‡‘éŒ¢æ°´å¹³æ’åˆ— */
        .target-money-row {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        /* çµ±ä¸€çµæœå®¹å™¨è‡ªé©æ‡‰èª¿æ•´ - ç½®ä¸­é æ”å¸ƒå±€ */
        .unified-results-container {
            display: flex !important;
            flex-direction: row !important;
            align-items: center;
            justify-content: center; /* ç½®ä¸­é æ” */
            gap: 8px; /* é©ç•¶é–“è·ä¿æŒç·Šæ¹Š */
            flex-wrap: wrap;
            padding: 20px; /* å¢åŠ å…§é–“è· */
            border: 2px dashed #ccc;
            border-radius: 8px;
            background-color: #f9f9f9;
            min-height: 180px; /* å¢åŠ æœ€å°é«˜åº¦é©æ‡‰æ–°å®¹å™¨ */
            max-width: 100%; /* ç¢ºä¿ä¸è¶…å‡ºå®¹å™¨ */
            box-sizing: border-box;
        }
        
        /* æˆ‘çš„é‡‘éŒ¢å€è‡ªé©æ‡‰èª¿æ•´ - å„ªåŒ–flexboxå¸ƒå±€ */
        .my-money-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-evenly; /* å¹³å‡åˆ†é…ç©ºé–“ */
            align-items: center;
            gap: 10px; /* å¢åŠ å®¹å™¨é–“è· */
            padding: 20px; /* å¢åŠ å®¹å™¨å…§é–“è· */
            min-height: 180px; /* å¢åŠ æœ€å°é«˜åº¦é©æ‡‰æ–°å®¹å™¨ */
            max-width: 100%; /* ç¢ºä¿ä¸è¶…å‡ºå®¹å™¨ */
            box-sizing: border-box;
        }
        
        /* å…Œæ›å€è‡ªé©æ‡‰èª¿æ•´ - å„ªåŒ–flexboxå¸ƒå±€ */
        .exchange-area, .drop-zone {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-evenly; /* å¹³å‡åˆ†é…ç©ºé–“ */
            align-items: center;
            gap: 12px; /* å¢åŠ å®¹å™¨é–“è·é¿å…é‡ç–Š */
            padding: 20px; /* å¢åŠ å®¹å™¨å…§é–“è· */
            min-height: 180px; /* å¢åŠ æœ€å°é«˜åº¦é©æ‡‰æ–°å®¹å™¨ */
            max-width: 100%; /* ç¢ºä¿ä¸è¶…å‡ºå®¹å™¨ */
            box-sizing: border-box;
        }
        
        /* æ”¾ç½®æ¡†å°é½Šä¿®æ­£ - å„ªåŒ–ç´™éˆ”å®¹å™¨ç©ºé–“ */
        .drop-zone, .exchange-drop-zone {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 180px; /* å¢åŠ é«˜åº¦é©æ‡‰ç´™éˆ”å®¹å™¨ */
            min-width: 160px; /* ç¢ºä¿è¶³å¤ å¯¬åº¦å®¹ç´ç´™éˆ”å®¹å™¨ 145px + é‚Šè· */
            padding: 15px; /* èª¿æ•´å…§é–“è· */
            margin: 5px; /* æ·»åŠ å¤–é–“è·é¿å…é‡ç–Š */
            box-sizing: border-box;
            border: 2px dashed #ccc;
            border-radius: 8px;
            flex-shrink: 0; /* é˜²æ­¢æ”¾ç½®æ¡†è¢«å£“ç¸® */
        }
        
        /* æ”¾ç½®æ¡†å…§çš„å…ƒç´ å‚ç›´å±…ä¸­ */
        .drop-zone > *, 
        .exchange-drop-zone > * {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        /* Unit3 å°ˆç”¨é‡‘éŒ¢åœ–ç¤ºæ¨£å¼ - ä½¿ç”¨å°ˆç”¨é¡åé¿å…è¡çª */
        
        /* Unit3 ç¡¬å¹£æ¨£å¼ */
        .unit3-coin {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border-radius: 50%;
            margin: 0; /* ç§»é™¤é‚Šè·ç¢ºä¿èˆ‡é‡‘é¡æ•¸å­—å°é½Š */
            display: block;
            flex-shrink: 0; /* é˜²æ­¢åœ–ç¤ºç¸®å° */
        }
        
        /* Unit3 ç´™éˆ”æ¨£å¼ - åƒç…§unit6.cssæ¨™æº– 120pxÃ—120px */
        .unit3-banknote {
            width: 120px;
            height: 120px;
            object-fit: contain;
            border-radius: 10px;
            margin: 0; /* ç§»é™¤é‚Šè·ç¢ºä¿èˆ‡é‡‘é¡æ•¸å­—å°é½Š */
            display: block;
            flex-shrink: 0; /* é˜²æ­¢åœ–ç¤ºç¸®å° */
        }
        
        /* Unit3 è¦†è“‹ unit6.css è¡çª - ä½¿ç”¨æ›´é«˜å„ªå…ˆç´š */
        .money-item .unit3-banknote,
        .exchange-money-item .unit3-banknote,
        div .unit3-banknote {
            width: 120px !important;
            height: 120px !important;
            max-width: 120px !important;
            max-height: 120px !important;
        }
        
        .money-item .unit3-coin,
        .exchange-money-item .unit3-coin,
        div .unit3-coin {
            width: 80px !important;
            height: 80px !important;
            max-width: 80px !important;
            max-height: 80px !important;
        }
        
        /* Unit3 é‡‘éŒ¢åƒ¹å€¼æ¨™ç±¤åŸºæœ¬æ¨£å¼ */
        .money-value {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            font-size: 12px;
            font-weight: bold;
            color: #333;
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin: 8px 0 0 0; /* å¢åŠ ä¸Šé‚Šè·ï¼Œç‚ºåœ–ç¤ºèˆ‡æ•¸å­—é–“æä¾›æ›´å¤šç©ºé–“ */
            text-align: center;
            width: 100%; /* ç¢ºä¿é‡‘é¡æ•¸å­—å æ»¿å®¹å™¨å¯¬åº¦ä»¥å¯¦ç¾å±…ä¸­ */
            z-index: 10;
            position: relative;
        }
        
        /* Unit3 æ¿€æ´»æ•ˆæœ - å¢å¼·è¦–è¦ºåé¥‹ */
        .unit3-coin.target-active,
        .unit3-banknote.target-active,
        .target-active {
            opacity: 1 !important;
            transform: scale(1.05);
            transition: all 0.5s ease-in-out;
            filter: brightness(1.1);
        }
        
        .unit3-coin.target-active:hover,
        .unit3-banknote.target-active:hover,
        .target-active:hover {
            transform: scale(1.1);
            filter: brightness(1.2);
        }
        
        /* Unit3 å°ˆç”¨å®¹å™¨æ¨£å¼ - è§£æ±ºç´™éˆ”é‡ç–Šå•é¡Œ */
        .unit3-coin-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8px;
            border: 2px solid #4CAF50;
            border-radius: 12px;
            background: white;
            cursor: grab;
            transition: all 0.3s ease;
            min-width: 90px; /* é©æ‡‰ç¡¬å¹£å¯¬åº¦ 80px + é‚Šè· */
            min-height: 124px; /* å¢åŠ 4pxé©æ‡‰é‡‘é¡æ•¸å­—çš„é¡å¤–é–“è· */
            max-width: 95px; /* é™åˆ¶æœ€å¤§å¯¬åº¦é¿å…ä¸å¿…è¦çš„ç©ºé–“ */
            position: relative;
            flex-shrink: 0; /* é˜²æ­¢å®¹å™¨è¢«å£“ç¸® */
            margin: 3px; /* å®¹å™¨é–“åŸºæœ¬é–“è· */
        }
        
        .unit3-banknote-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8px;
            border: 2px solid #4CAF50;
            border-radius: 12px;
            background: white;
            cursor: grab;
            transition: all 0.3s ease;
            min-width: 140px; /* é©æ‡‰ç´™éˆ”å¯¬åº¦ 120px + é‚Šè· */
            min-height: 144px; /* å¢åŠ 4pxé©æ‡‰é‡‘é¡æ•¸å­—çš„é¡å¤–é–“è· */
            max-width: 145px; /* é™åˆ¶æœ€å¤§å¯¬åº¦ */
            position: relative;
            flex-shrink: 0; /* é˜²æ­¢å®¹å™¨è¢«å£“ç¸® */
            margin: 3px; /* å®¹å™¨é–“åŸºæœ¬é–“è· */
        }
        
        /* Unit3 å®¹å™¨æ‡¸åœæ•ˆæœ */
        .unit3-coin-container:hover,
        .unit3-coin-container:focus,
        .unit3-banknote-container:hover,
        .unit3-banknote-container:focus {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }
        
        .unit3-coin-container:active,
        .unit3-banknote-container:active {
            transform: translateY(-1px);
        }
        
        /* å…Œæ›å€åŸŸå°ˆç”¨é–“è·è¦å‰‡ - è§£æ±ºç´™éˆ”é‡ç–Š */
        .exchange-drop-zone .unit3-banknote-container,
        .drop-zone .unit3-banknote-container,
        .exchange-area .unit3-banknote-container {
            margin: 6px 8px !important; /* å¢åŠ å…Œæ›å€åŸŸçš„ç´™éˆ”é–“è· */
            min-width: 145px !important;
            flex-shrink: 0 !important;
        }
        
        .exchange-drop-zone .unit3-coin-container,
        .drop-zone .unit3-coin-container,
        .exchange-area .unit3-coin-container {
            margin: 4px 6px !important; /* é©ç•¶å¢åŠ ç¡¬å¹£é–“è· */
            min-width: 92px !important;
            flex-shrink: 0 !important;
        }
        
        /* å…Œæ›å€åŸŸæ•´é«”å¸ƒå±€å„ªåŒ– */
        .exchange-area {
            min-width: 0; /* å…è¨±flexboxæ­£ç¢ºè¨ˆç®—å¯¬åº¦ */
            overflow-x: auto; /* å¦‚æœå…§å®¹éå¯¬å…è¨±æ©«å‘æ»¾å‹• */
        }
        
        /* ğŸ† æœ€ä½³è§£æ±ºæ–¹æ¡ˆï¼šå¤–å±¤Grid + å…§å±¤æ¨™æº–å¡Šç´šå…ƒç´  */
        /* æ”¾ç½®æ¡†ä¸»å®¹å™¨ - ä½¿ç”¨æ¨™æº–å¡Šç´šå…ƒç´  */
        .drop-zone-area {
            /* ç§»é™¤ display: flexï¼Œè®“å®ƒä½œç‚ºæ¨™æº–å¡Šç´šå®¹å™¨ */
            /* é«˜åº¦å°‡ç”±å…§éƒ¨å…§å®¹è‡ªå‹•æ±ºå®š */
        }

        .flexible-zone {
            /* ä½¿ç”¨Gridç³»çµ±ç²¾ç¢ºæ§åˆ¶å¯¬åº¦ï¼Œé¿å…åˆå§‹è®Šå¯¬å’Œé–ƒçˆ */
            display: grid;
            grid-template-columns: 1fr;
            width: 100%;
            min-height: 120px;
            /* é«˜åº¦ç”±å…§å®¹æ±ºå®š */
            overflow: visible;
        }

        /* æ”¾ç½®çš„é‡‘éŒ¢å®¹å™¨ - å…§å±¤ä½¿ç”¨Flexboxè™•ç†éŒ¢å¹£æ’åˆ— */
        .placed-coins-container {
            /* ğŸ¯ å¾®è§€ä½ˆå±€ï¼šå°ˆæ³¨æ–¼éŒ¢å¹£çš„æ°´å¹³æ’åˆ—å’Œæ›è¡Œ */
            display: flex;
            flex-wrap: wrap; /* éŒ¢å¹£å…ˆæ°´å¹³æ’åˆ—ï¼Œå¯¬åº¦ä¸è¶³æ™‚è‡ªå‹•æ›è¡Œ */
            gap: 10px;
            align-items: flex-start; /* é¿å…å‚ç›´å±…ä¸­å°è‡´çš„ä½ˆå±€è®ŠåŒ– */
            justify-content: flex-start; /* éŒ¢å¹£å¾å·¦å´é–‹å§‹æ’åˆ— */
            padding: 10px;
            /* ğŸ† é«˜åº¦è‡ªé©æ‡‰æ ¸å¿ƒè¨­å®š */
            min-height: 0; /* é‡è¦ï¼šé¿å…Flexboxé»˜èªé«˜åº¦é™åˆ¶ */
            height: auto; /* é«˜åº¦å®Œå…¨ç”±å…§å®¹æ±ºå®š */
            /* ğŸ›¡ï¸ ä½ˆå±€ç©©å®šæ€§ä¿è­‰ */
            width: 100%; /* ç¢ºä¿å¯¬åº¦ç©©å®š */
            box-sizing: border-box; /* åŒ…å«paddingåœ¨å¯¬åº¦è¨ˆç®—å…§ */
            /* ğŸ¯ æ›è¡Œå„ªåŒ– */
            align-content: flex-start; /* å¤šè¡Œå…§å®¹å¾é ‚éƒ¨é–‹å§‹æ’åˆ— */
        }

        /* ğŸ”§ æ‹–æ›³ç‹€æ…‹ä¸‹ä¿æŒä½ˆå±€ç©©å®šæ€§ */
        .placed-coins-container.dragover {
            /* åœ¨dragoverç‹€æ…‹ä¸‹ä¸æ”¹è®Šå°ºå¯¸ */
            transform: none;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
            border: 2px dashed #4CAF50;
            background-color: rgba(76, 175, 80, 0.1);
        }

        /* éŒ¢å¹£å®¹å™¨å…§çš„å­å…ƒç´ ç©©å®šæ€§ */
        .placed-coins-container > * {
            flex-shrink: 0; /* é˜²æ­¢éŒ¢å¹£è¢«å£“ç¸® */
        }

        /* ğŸ¯ æ›è¡Œå¾Œé«˜åº¦è‡ªé©æ‡‰å„ªåŒ– */
        /* ç•¶éŒ¢å¹£æ•¸é‡è¼ƒå¤šéœ€è¦æ›è¡Œæ™‚çš„å‹•æ…‹é«˜åº¦èª¿æ•´ */
        .placed-coins-container[data-rows="1"] {
            min-height: 100px; /* å–®è¡ŒéŒ¢å¹£çš„åŸºæœ¬é«˜åº¦ */
        }

        .placed-coins-container[data-rows="2"] {
            min-height: 200px; /* é›™è¡ŒéŒ¢å¹£çš„é«˜åº¦ */
        }

        .placed-coins-container[data-rows="3"] {
            min-height: 300px; /* ä¸‰è¡ŒéŒ¢å¹£çš„é«˜åº¦ */
        }

        /* éŸ¿æ‡‰å¼éŒ¢å¹£é–“è·èª¿æ•´ - ç¢ºä¿æ›è¡Œæ™‚ä¸é‡ç–Š */
        @media (max-width: 600px) {
            .placed-coins-container {
                gap: 8px; /* å°è¢å¹•æ¸›å°‘é–“è· */
                padding: 8px;
            }
        }

        @media (max-width: 400px) {
            .placed-coins-container {
                gap: 6px; /* æ¥µå°è¢å¹•é€²ä¸€æ­¥æ¸›å°‘é–“è· */
                padding: 6px;
            }
        }
        
        /* æ–°å…Œæ›çµæœé‡‘éŒ¢å‹•ç•« */
        .new-result-coin {
            animation: newCoinAppear 0.8s ease-in-out;
        }
        
        @keyframes newCoinAppear {
            0% {
                opacity: 0;
                transform: scale(0.5) translateY(-20px);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.1) translateY(-10px);
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        /* å…Œæ›å€è½‰å ´å‹•ç•« - ç°¡å–®æ¨¡å¼å°ˆç”¨ */
        .exchange-area-exit {
            animation: exchangeAreaExit 0.4s ease-out forwards;
            /* å‹•ç•«çµæŸæ™‚ä¿æŒéš±è—ç‹€æ…‹ - forwardså·²åŒ…å«åœ¨ä¸Šé¢ */
        }
        
        .exchange-area-enter {
            animation: exchangeAreaEnter 0.5s ease-in-out forwards;
            animation-delay: 0.2s;
            /* å‹•ç•«é–‹å§‹å‰ä¿æŒéš±è—ç‹€æ…‹ */
            opacity: 0;
            transform: translateY(10px);
            visibility: hidden;
        }
        
        /* å…Œæ›å€éš±è—ç‹€æ…‹ - é«˜å„ªå…ˆç´šç¢ºä¿éš±è— */
        #game-area.exchange-area-hidden {
            opacity: 0 !important;
            transform: translateY(10px) !important;
            visibility: hidden !important;
            transition: none !important;
        }
        
        @keyframes exchangeAreaExit {
            0% {
                opacity: 1;
                transform: translateY(0);
                visibility: visible;
            }
            100% {
                opacity: 0;
                transform: translateY(10px);
                visibility: hidden;
            }
        }
        
        @keyframes exchangeAreaEnter {
            0% {
                opacity: 0;
                transform: translateY(10px);
                visibility: hidden;
            }
            1% {
                visibility: visible;
            }
            100% {
                opacity: 1;
                transform: translateY(0);
                visibility: visible;
            }
        }
        
        /* æ‹–æ”¾å€åŸŸæ°´å¹³æ’åˆ— - å¢åŠ é–“è·é¿å…ç´™éˆ”é‡ç–Š */
        .drop-zones-row {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 18px; /* å¢åŠ é–“è·é©æ‡‰ç´™éˆ”å®¹å™¨ 145px */
            flex-wrap: wrap;
        }
        
        .exchange-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px; /* å¢åŠ é–“è·é¿å…ç´™éˆ”é‡ç–Š */
            flex-wrap: wrap;
        }
        
        .target-area {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ğŸ† æ ¸å¿ƒä¿®æ­£ï¼šdrop-zone-area ä½¿ç”¨æ¨™æº–å¡Šç´šä½ˆå±€ */
        .drop-zone-area {
            /* ç§»é™¤ display: flex - ä½¿ç”¨æ¨™æº–å¡Šç´šå…ƒç´  */
            /* è®“é«˜åº¦ç”±å…§éƒ¨ .flexible-zone å’Œ .placed-coins-container æ±ºå®š */
            width: 100%;
            min-height: 0; /* é‡è¦ï¼šä¸é™åˆ¶æœ€å°é«˜åº¦ */
            /* ä½¿ç”¨ Grid ç³»çµ±ç²¾ç¢ºæ§åˆ¶ä½ˆå±€ */
            display: grid;
            grid-template-columns: 1fr;
            align-items: stretch; /* è®“å…§éƒ¨å…ƒç´ å¡«æ»¿å¯ç”¨ç©ºé–“ */
        }
        
        /* è‡ªé©æ‡‰å®¹å™¨å¤§å° - æ ¹æ“šå…§å®¹æ•¸é‡èª¿æ•´ */
        .money-container-adaptive {
            min-height: 150px;
            max-height: none; /* å…è¨±å…§å®¹æ±ºå®šé«˜åº¦ */
            overflow: visible; /* ç¢ºä¿å…§å®¹ä¸è¢«è£åˆ‡ */
        }
        
        /* ç•¶é‡‘éŒ¢æ•¸é‡è¼ƒå¤šæ™‚çš„è‡ªé©æ‡‰æ¨£å¼ */
        .money-area[data-count="high"] {
            min-height: 200px;
            gap: 6px;
        }
        
        .money-area[data-count="medium"] {
            min-height: 175px;
            gap: 7px;
        }
        
        .money-area[data-count="low"] {
            min-height: 150px;
            gap: 8px;
        }
        
        /* éŸ¿æ‡‰å¼èª¿æ•´ - å°è¢å¹•å„ªåŒ–å…Œæ›å€é–“è· */
        @media (max-width: 768px) {
            .my-money-area, .exchange-area, .drop-zone, .exchange-drop-zone, .unified-results-container {
                padding: 15px;
                gap: 8px; /* ä¿æŒé©ç•¶é–“è· */
                min-height: 160px; /* èª¿æ•´é«˜åº¦ */
            }
            
            /* èª¿æ•´å…Œæ›å€åŸŸé–“è· */
            .drop-zones-row {
                gap: 12px; /* å°è¢å¹•æ¸›å°‘é–“è·ä½†ä¿æŒä¸é‡ç–Š */
            }
            
            .exchange-row {
                gap: 15px; /* å°è¢å¹•æ¸›å°‘é–“è·ä½†ä¿æŒä¸é‡ç–Š */
            }
            
            .drop-zone, .exchange-drop-zone {
                min-width: 130px; /* å°è¢å¹•èª¿æ•´æœ€å°å¯¬åº¦ */
                padding: 12px;
                margin: 3px;
            }
            
            .unit3-coin-container {
                min-width: 80px;
                min-height: 110px;
                max-width: 85px;
                padding: 6px;
                margin: 2px;
            }
            
            .unit3-banknote-container {
                min-width: 120px; /* å°è¢å¹•ä»ä¿æŒè¶³å¤ å¯¬åº¦ */
                min-height: 125px;
                max-width: 125px;
                padding: 6px;
                margin: 2px;
            }
            
            /* å…Œæ›å€åŸŸå°ˆç”¨é–“è·èª¿æ•´ */
            .exchange-drop-zone .unit3-banknote-container,
            .drop-zone .unit3-banknote-container {
                margin: 4px 6px !important;
                min-width: 125px !important;
            }
            
            .unit3-coin {
                width: 65px;
                height: 65px;
                margin: 2px 4px;
            }
            
            .unit3-banknote {
                width: 90px;
                height: 90px;
                margin: 2px 4px;
            }
        }
        
        /* è¶…å°è¢å¹•èª¿æ•´ - å„ªåŒ–å…Œæ›å€é–“è· */
        @media (max-width: 480px) {
            .my-money-area, .exchange-area, .drop-zone, .exchange-drop-zone, .unified-results-container {
                padding: 10px;
                gap: 6px;
                min-height: 140px;
            }
            
            /* è¶…å°è¢å¹•å…Œæ›å€åŸŸé–“è· */
            .drop-zones-row {
                gap: 8px; /* é€²ä¸€æ­¥æ¸›å°‘ä½†ä¿æŒä¸é‡ç–Š */
            }
            
            .exchange-row {
                gap: 12px;
            }
            
            .drop-zone, .exchange-drop-zone {
                min-width: 110px; /* è¶…å°è¢å¹•æœ€å°å¯¬åº¦ */
                padding: 8px;
                margin: 2px;
            }
            
            .unit3-coin-container {
                min-width: 70px;
                min-height: 100px;
                max-width: 75px;
            }
            
            .unit3-banknote-container {
                min-width: 100px; /* è¶…å°è¢å¹•ä»ä¿æŒåˆç†å¯¬åº¦ */
                min-height: 110px;
                max-width: 105px;
            }
            
            /* è¶…å°è¢å¹•å…Œæ›å€åŸŸå°ˆç”¨é–“è· */
            .exchange-drop-zone .unit3-banknote-container,
            .drop-zone .unit3-banknote-container {
                margin: 2px 4px !important;
                min-width: 105px !important;
            }
            
            .unit3-coin {
                width: 55px;
                height: 55px;
            }
            
            .unit3-banknote {
                width: 75px;
                height: 75px;
            }
        }
        
        /* æ•¸é‡é«˜äº®é¡¯ç¤ºæ¨£å¼ - ç”¨æ–¼æ¨™é¡Œä¸­çš„Ã—å€‹Ã—å…ƒ */
        .count-highlight {
            color: #ff6b35;
            font-weight: bold;
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px solid #ffb74d;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
            display: inline-block;
            margin: 0 2px;
            transition: all 0.3s ease;
        }
        
        .count-highlight:hover {
            background: linear-gradient(135deg, #ffe0b2, #ffcc02);
            transform: scale(1.05);
            box-shadow: 0 2px 4px rgba(255,107,53,0.3);
        }
        
        /* =====================================================
           Unit3 æ·±è‰²æ¨¡å¼å°ˆç”¨æ¨£å¼ - åƒ…å½±éŸ¿ unit3.html
           ===================================================== */
        
        /* Unit3 æ¸¬é©—é é¢ä¸»è¦å€åŸŸ */
        [data-theme="dark"] #app {
            background: var(--background-primary) !important;
            color: var(--text-primary) !important;
            min-height: 100vh !important;
        }
        
        [data-theme="dark"] #dynamic-game-container,
        [data-theme="dark"] #game-container {
            background: var(--background-card) !important;
            color: var(--text-primary) !important;
            border: var(--border-thick) solid var(--border-color) !important;
            border-radius: var(--radius-large) !important;
            box-shadow: var(--shadow-medium) !important;
        }
        
        /* Unit3 æ¨™é¡Œå’Œå€åŸŸæ¨™é ­ */
        [data-theme="dark"] .unit3-easy-section-title,
        [data-theme="dark"] .unit3-normal-section-title,
        [data-theme="dark"] .unit3-hard-section-title {
            background: var(--background-secondary) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-color) !important;
            border-radius: var(--radius-medium) !important;
            box-shadow: var(--shadow-medium) !important;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
        }
        
        /* Unit3 æˆ‘çš„é‡‘éŒ¢å€ */
        [data-theme="dark"] .my-money-area {
            background: var(--background-light) !important;
            color: var(--text-primary) !important;
            border: 2px dashed var(--border-color) !important;
            border-radius: var(--radius-medium) !important;
        }
        
        /* Unit3 å…Œæ›å€ */
        [data-theme="dark"] .exchange-area,
        [data-theme="dark"] .drop-zone,
        [data-theme="dark"] .exchange-drop-zone {
            background: var(--background-light) !important;
            color: var(--text-primary) !important;
            border: 2px dashed var(--warning-color) !important;
            border-radius: var(--radius-medium) !important;
        }
        
        [data-theme="dark"] .drop-zone.filled,
        [data-theme="dark"] .exchange-drop-zone.filled {
            background: var(--background-card) !important;
            border-color: var(--success-color) !important;
        }
        
        /* Unit3 å…Œæ›çµæœå€ */
        [data-theme="dark"] .unified-results-container {
            background: var(--background-card) !important;
            color: var(--text-primary) !important;
            border: 2px dashed var(--success-color) !important;
            border-radius: var(--radius-medium) !important;
        }
        
        /* Unit3 é‡‘éŒ¢å®¹å™¨ */
        [data-theme="dark"] .unit3-coin-container,
        [data-theme="dark"] .unit3-banknote-container {
            background: var(--background-light) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--success-color) !important;
            border-radius: var(--radius-small) !important;
            box-shadow: var(--shadow-light) !important;
        }
        
        /* Unit3 é‡‘éŒ¢é …ç›® - è¦†è“‹ç™½è‰²èƒŒæ™¯ */
        [data-theme="dark"] .money-item {
            background: var(--background-light) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--success-color) !important;
        }
        
        [data-theme="dark"] .exchange-money-item {
            background: var(--background-light) !important;
            color: var(--text-primary) !important;
        }
        
        /* Unit3 æ‰€æœ‰å¯èƒ½çš„ç™½è‰²èƒŒæ™¯è¦†è“‹ */
        [data-theme="dark"] .money-source-container {
            background: var(--background-light) !important;
            color: var(--text-primary) !important;
            border: 2px dashed var(--border-color) !important;
        }
        
        [data-theme="dark"] #exchange-results-area {
            background: var(--background-card) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-color) !important;
            border-radius: var(--radius-medium) !important;
        }
        
        [data-theme="dark"] .unit3-coin-container:hover,
        [data-theme="dark"] .unit3-banknote-container:hover {
            background: var(--background-secondary) !important;
            border-color: var(--primary-color) !important;
            box-shadow: var(--shadow-orange) !important;
        }
        
        /* Unit3 é‡‘éŒ¢åœ–ç¤ºå’Œåƒ¹å€¼æ¨™ç±¤ */
        [data-theme="dark"] .money-value {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            color: var(--text-primary) !important;
            background: var(--background-secondary) !important;
            border: 1px solid var(--border-color) !important;
            border-radius: var(--radius-small) !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
            z-index: 15;
        }
        
        /* Unit3 æ·±è‰²æ¨¡å¼ä¸‹ç¢ºä¿æ·¡åŒ–ç‹€æ…‹çš„é‡‘é¡æ•¸å­—å¯è¦‹ */
        [data-theme="dark"] .exchange-item.faded .money-value,
        [data-theme="dark"] .money-item.faded .money-value,
        [data-theme="dark"] .placeholder-money .faded + .money-value,
        [data-theme="dark"] .target-money .faded + .money-value,
        [data-theme="dark"] .placeholder-money .money-value,
        [data-theme="dark"] .target-money .money-value {
            opacity: 1 !important;
            display: block !important;
            visibility: visible !important;
            z-index: 15;
        }
        
        /* Unit3 ç›®æ¨™é‡‘éŒ¢é¡¯ç¤º */
        [data-theme="dark"] .target-display,
        [data-theme="dark"] .target-money-row {
            background: var(--background-card) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-color) !important;
            border-radius: var(--radius-medium) !important;
        }
        
        [data-theme="dark"] .target-display.active {
            background: var(--background-secondary) !important;
            border-color: var(--primary-color) !important;
            box-shadow: var(--shadow-orange) !important;
        }
        
        [data-theme="dark"] .target-display.faded {
            background: var(--background-light) !important;
            opacity: 0.4 !important;
        }
        
        /* Unit3 æŒ‰éˆ•æ¨£å¼ */
        [data-theme="dark"] .complete-exchange-btn,
        [data-theme="dark"] .next-question-btn,
        [data-theme="dark"] .return-money-btn {
            background: linear-gradient(145deg, var(--primary-color), var(--primary-dark)) !important;
            color: var(--text-inverse) !important;
            border: 2px solid var(--primary-dark) !important;
            border-radius: var(--radius-medium) !important;
            box-shadow: var(--shadow-orange) !important;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3) !important;
        }
        
        [data-theme="dark"] .complete-exchange-btn:hover,
        [data-theme="dark"] .next-question-btn:hover,
        [data-theme="dark"] .return-money-btn:hover {
            background: linear-gradient(145deg, var(--primary-light), var(--primary-color)) !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 15px rgba(79, 140, 255, 0.4) !important;
        }
        
        /* Unit3 æ‹–æ”¾æç¤º */
        [data-theme="dark"] .transparent-drop-hint {
            color: var(--text-secondary) !important;
            background: transparent !important;
        }
        
        [data-theme="dark"] .drop-zone:hover .transparent-drop-hint,
        [data-theme="dark"] .exchange-drop-zone:hover .transparent-drop-hint {
            color: var(--text-primary) !important;
        }
        
        /* Unit3 æ”¾ç½®å®¹å™¨ */
        [data-theme="dark"] .placed-coins-container {
            background: transparent !important;
        }
        
        /* Unit3 é€²åº¦å’Œç‹€æ…‹é¡¯ç¤º */
        [data-theme="dark"] .progress-display,
        [data-theme="dark"] .status-display,
        [data-theme="dark"] .score-display {
            background: var(--background-light) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-color) !important;
            border-radius: var(--radius-medium) !important;
            box-shadow: var(--shadow-light) !important;
        }
        
        /* Unit3 æ•¸é‡é«˜äº®é¡¯ç¤ºä¿æŒåŸæœ‰æ©˜è‰² */
        [data-theme="dark"] .count-highlight {
            color: #ff6b35 !important;
            background: linear-gradient(135deg, var(--background-secondary), var(--background-light)) !important;
            border: 1px solid var(--border-color) !important;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3) !important;
        }
        
        [data-theme="dark"] .count-highlight:hover {
            background: linear-gradient(135deg, var(--background-light), var(--background-card)) !important;
            box-shadow: 0 2px 4px rgba(255,107,53,0.3) !important;
        }
        
        /* Unit3 æ·±è‰²æ¨¡å¼ä¸‹çš„é»æ“Šé¸æ“‡æ¨£å¼ */
        [data-theme="dark"] .money-item.selected-item,
        [data-theme="dark"] .unit3-coin-container.selected-item,
        [data-theme="dark"] .unit3-banknote-container.selected-item {
            border: 3px solid var(--success-color) !important;
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.6) !important;
            transform: scale(1.05) !important;
            z-index: 10 !important;
            background: rgba(76, 175, 80, 0.15) !important;
            transition: all 0.3s ease !important;
        }
        
        /* Unit3 çµæœä½”ä½ç¬¦ */
        [data-theme="dark"] .results-placeholder {
            color: var(--text-secondary) !important;
            background: transparent !important;
        }
        
        /* Unit3 å‹•ç•«å…ƒç´  */
        [data-theme="dark"] .new-result-coin {
            border-color: var(--success-color) !important;
        }
        
        /* Unit3 é›£åº¦æŒ‡ç¤ºå™¨ */
        [data-theme="dark"] .difficulty-indicator {
            background: var(--background-light) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-color) !important;
            border-radius: var(--radius-small) !important;
        }
        
        /* Unit3 éŠæˆ²çµ±è¨ˆ */
        [data-theme="dark"] .game-stats,
        [data-theme="dark"] .quiz-progress {
            background: var(--background-card) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-color) !important;
            border-radius: var(--radius-medium) !important;
            box-shadow: var(--shadow-light) !important;
        }
        
        /* Unit3 é¡å¤–çš„ç™½è‰²èƒŒæ™¯è¦†è“‹ - æ›´å…¨é¢çš„æ·±è‰²æ¨¡å¼ */
        [data-theme="dark"] .setup-section,
        [data-theme="dark"] .game-section,
        [data-theme="dark"] .question-section,
        [data-theme="dark"] .answer-section {
            background: var(--background-card) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-color) !important;
            border-radius: var(--radius-medium) !important;
        }
        
        /* Unit3 é€šç”¨å®¹å™¨æ·±è‰²è¦†è“‹ */
        [data-theme="dark"] div[class*="area"],
        [data-theme="dark"] div[class*="container"]:not(.unit3-coin-container):not(.unit3-banknote-container),
        [data-theme="dark"] div[class*="section"] {
            background: var(--background-card) !important;
            color: var(--text-primary) !important;
        }
        
        /* Unit3 ç¢ºä¿æ‰€æœ‰ç™½è‰²èƒŒæ™¯è¢«è¦†è“‹ */
        [data-theme="dark"] * {
            background-color: inherit !important;
        }
        
        /* Unit3 é‡æ–°è¨­å®šé—œéµå®¹å™¨èƒŒæ™¯ */
        [data-theme="dark"] #app,
        [data-theme="dark"] #dynamic-game-container,
        [data-theme="dark"] .my-money-area,
        [data-theme="dark"] .exchange-area,
        [data-theme="dark"] .unified-results-container,
        [data-theme="dark"] .unit3-coin-container,
        [data-theme="dark"] .unit3-banknote-container {
            background: var(--background-light) !important;
        }
        
        [data-theme="dark"] #app {
            background: var(--background-primary) !important;
        }
        
        [data-theme="dark"] #dynamic-game-container {
            background: var(--background-card) !important;
        }
        
        /* Unit3 æ›´å¼·åŠ›çš„ç™½è‰²èƒŒæ™¯æ¶ˆé™¤è¦å‰‡ */
        [data-theme="dark"] div:not([style*="background"]) {
            background-color: transparent !important;
        }
        
        /* Unit3 ç¢ºä¿é—œéµå€åŸŸæœ‰æ­£ç¢ºçš„æ·±è‰²èƒŒæ™¯ */
        [data-theme="dark"] .my-money-area,
        [data-theme="dark"] .money-source-container {
            background: linear-gradient(135deg, var(--background-light), var(--background-secondary)) !important;
            color: var(--text-primary) !important;
            border: 2px dashed var(--border-color) !important;
            border-radius: var(--radius-medium) !important;
            box-shadow: var(--shadow-light) !important;
        }
        
        [data-theme="dark"] .exchange-area,
        [data-theme="dark"] .drop-zone,
        [data-theme="dark"] .exchange-drop-zone {
            background: linear-gradient(135deg, var(--background-light), var(--background-card)) !important;
            color: var(--text-primary) !important;
            border: 2px dashed var(--warning-color) !important;
            border-radius: var(--radius-medium) !important;
            box-shadow: var(--shadow-light) !important;
        }
        
        [data-theme="dark"] .unified-results-container,
        [data-theme="dark"] #exchange-results-area {
            background: linear-gradient(135deg, var(--background-card), var(--background-light)) !important;
            color: var(--text-primary) !important;
            border: 2px dashed var(--success-color) !important;
            border-radius: var(--radius-medium) !important;
            box-shadow: var(--shadow-light) !important;
        }
        
        /* Unit3 è¦†è“‹ä»»ä½•å¯èƒ½çš„ç™½è‰²èƒŒæ™¯ */
        [data-theme="dark"] .placeholder-money,
        [data-theme="dark"] .target-money,
        [data-theme="dark"] .exchange-item,
        [data-theme="dark"] .placed-coins-container {
            background: transparent !important;
        }
        
        /* Unit3 æ›´å¾¹åº•çš„ç™½è‰²èƒŒæ™¯æ¶ˆé™¤ - é‡å°å®¹å™¨å…ƒç´  */
        [data-theme="dark"] div:not(.unit3-coin):not(.unit3-banknote):not(img) {
            background-color: inherit !important;
        }
        
        /* Unit3 é‡æ–°å®šç¾©é—œéµå®¹å™¨çš„èƒŒæ™¯ */
        [data-theme="dark"] body,
        [data-theme="dark"] html {
            background: var(--background-primary) !important;
        }
        
        [data-theme="dark"] #app {
            background: var(--background-primary) !important;
        }
        
        [data-theme="dark"] #dynamic-game-container {
            background: var(--background-card) !important;
        }
        
        [data-theme="dark"] .my-money-area,
        [data-theme="dark"] .money-source-container {
            background: linear-gradient(135deg, var(--background-light), var(--background-secondary)) !important;
        }
        
        [data-theme="dark"] .exchange-area,
        [data-theme="dark"] .drop-zone,
        [data-theme="dark"] .exchange-drop-zone {
            background: linear-gradient(135deg, var(--background-light), var(--background-card)) !important;
        }
        
        [data-theme="dark"] .unified-results-container,
        [data-theme="dark"] #exchange-results-area {
            background: linear-gradient(135deg, var(--background-card), var(--background-light)) !important;
        }
        
        /* Unit3 é€æ˜èƒŒæ™¯çš„å…ƒç´  */
        [data-theme="dark"] .placeholder-money,
        [data-theme="dark"] .target-money,
        [data-theme="dark"] .exchange-item,
        [data-theme="dark"] .placed-coins-container,
        [data-theme="dark"] img {
            background: transparent !important;
        }
        
        /* Unit3 ç¢ºä¿ placeholder-money åœ¨æ·±è‰²æ¨¡å¼ä¸‹æ­£ç¢ºé¡¯ç¤º */
        [data-theme="dark"] .placeholder-money {
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            visibility: visible !important;
        }
        
        [data-theme="dark"] .placeholder-money img {
            display: block !important;
            visibility: visible !important;
        }
        
        /* Unit3 æ·±è‰²æ¨¡å¼ä¸‹çš„æ¿€æ´»æ•ˆæœ */
        [data-theme="dark"] .unit3-coin.target-active,
        [data-theme="dark"] .unit3-banknote.target-active,
        [data-theme="dark"] .target-active {
            opacity: 1 !important;
            transform: scale(1.05);
            transition: all 0.5s ease-in-out;
            filter: brightness(1.2);
        }
        
        [data-theme="dark"] .faded .unit3-coin,
        [data-theme="dark"] .faded .unit3-banknote {
            opacity: 0.4 !important;
            display: block !important;
            visibility: visible !important;
        }
        
        /* Unit3 ç¢ºä¿å…Œæ›å€çš„æ·¡åŒ–åœ–ç¤ºæ­£ç¢ºé¡¯ç¤º */
        [data-theme="dark"] .exchange-item.faded,
        [data-theme="dark"] .exchange-item.faded img,
        [data-theme="dark"] .money-item.faded,
        [data-theme="dark"] .money-item.faded img,
        [data-theme="dark"] .placeholder-money .faded,
        [data-theme="dark"] .placeholder-money .faded img,
        [data-theme="dark"] .target-money .faded,
        [data-theme="dark"] .target-money .faded img {
            opacity: 0.4 !important;
            display: block !important;
            visibility: visible !important;
        }
        
        /* Unit3 åŸºæœ¬æ·¡åŒ–åœ–ç¤ºæ¨£å¼ï¼ˆéæ·±è‰²æ¨¡å¼ï¼‰ */
        .exchange-item.faded,
        .exchange-item.faded img,
        .money-item.faded,
        .money-item.faded img,
        .placeholder-money .faded,
        .placeholder-money .faded img,
        .target-money .faded,
        .target-money .faded img {
            opacity: 0.4 !important;
            display: block !important;
            visibility: visible !important;
        }
        
        /* ğŸ”§ [æ–°å¢] é»æ“Šæ”¾ç½®åŠŸèƒ½æ¨£å¼ */
        .money-item.selected-item,
        .unit3-coin-container.selected-item,
        .unit3-banknote-container.selected-item {
            border: 3px solid #4CAF50 !important;
            box-shadow: 0 0 15px rgba(76, 175, 80, 0.6) !important;
            transform: scale(1.05) !important;
            z-index: 10 !important;
            background: rgba(76, 175, 80, 0.1) !important;
            transition: all 0.3s ease !important;
        }
        
        .money-item,
        .unit3-coin-container,
        .unit3-banknote-container {
            cursor: pointer !important;
            transition: all 0.2s ease;
        }
        
        .money-item:hover,
        .unit3-coin-container:hover,
        .unit3-banknote-container:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
        }
        
        /* ç¢ºä¿åœ–ç‰‡ä¸æœƒå¹²æ“¾é»æ“Šäº‹ä»¶ï¼Œä½†ä¿ç•™å®¹å™¨çš„è§¸æ§åŠŸèƒ½ */
        .unit3-coin,
        .unit3-banknote {
            pointer-events: none !important;
            user-select: none !important;
        }
        
        /* ç¢ºä¿éŒ¢å¹£å®¹å™¨èƒ½æ¥æ”¶è§¸æ§äº‹ä»¶ */
        .unit3-coin-container,
        .unit3-banknote-container,
        .money-item {
            pointer-events: auto !important;
            touch-action: manipulation !important;
            -webkit-touch-callout: none !important;
            -webkit-user-select: none !important;
            -moz-user-select: none !important;
            -ms-user-select: none !important;
            user-select: none !important;
        }
        
        /* Unit3 ç¢ºä¿æ·¡åŒ–ç‹€æ…‹ä¸‹é‡‘é¡æ•¸å­—ä»ç„¶å¯è¦‹ä¸”æ¸…æ™° */
        .exchange-item.faded .money-value,
        .money-item.faded .money-value,
        .placeholder-money .faded + .money-value,
        .target-money .faded + .money-value,
        .placeholder-money .money-value,
        .target-money .money-value {
            opacity: 1 !important;
            display: block !important;
            visibility: visible !important;
            z-index: 15;
        }
    </style>
</head>
<body>
    <!-- éŠæˆ²å®¹å™¨ -->
    <div id="app">
        <!-- å…§å®¹å°‡ç”± c3_money_exchange.js å‹•æ…‹ç”¢ç”Ÿ -->
    </div>

    <!-- éŸ³æ•ˆ -->
    <audio id="correct-sound" src="audio/correct02.mp3" preload="auto"></audio>
    <audio id="success-sound" src="audio/success.mp3" preload="auto"></audio>
    <audio id="error-sound" src="audio/error.mp3" preload="auto"></audio>
    <audio id="select-sound" src="audio/select.mp3" preload="auto"></audio>
    <audio id="click-sound" src="audio/click.mp3" preload="auto"></audio>

    <!-- ç¬¬ä¸‰æ–¹å‡½å¼åº«ï¼šæ…¶ç¥å‹•ç•« -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

    <!-- ä¸»é¡Œç³»çµ±è…³æœ¬ -->
    <script src="js/audio-unlocker.js"></script>
    <script src="js/theme-system.js"></script>
    <script src="js/touch-drag-utility.js?v=2.1"></script>

    <!-- è¼‰å…¥å–®å…ƒä¸‰å°ˆå±¬çš„ JavaScript -->
    <script src="js/c3_money_exchange.js?v=2.1"></script>

    <!-- æ‰‹æ©Ÿç«¯é™¤éŒ¯å·¥å…· -->
    <script>
        // å‰µå»ºè¦–è¦ºåŒ–é™¤éŒ¯é¢æ¿
        function createMobileDebugPanel() {
            const debugPanel = document.createElement('div');
            debugPanel.id = 'mobile-debug-panel';
            debugPanel.style.cssText = `
                position: fixed;
                top: 10px;
                right: 10px;
                width: 300px;
                max-height: 200px;
                background: rgba(0,0,0,0.8);
                color: #00ff00;
                font-family: monospace;
                font-size: 12px;
                padding: 10px;
                border-radius: 5px;
                z-index: 10000;
                overflow-y: auto;
                display: none;
            `;
            document.body.appendChild(debugPanel);
            
            // æ·»åŠ é¡¯ç¤º/éš±è—æŒ‰éˆ•
            const toggleBtn = document.createElement('button');
            toggleBtn.innerHTML = 'ğŸ›';
            toggleBtn.style.cssText = `
                position: fixed;
                top: 10px;
                left: 10px;
                background: #ff4444;
                color: white;
                border: none;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                font-size: 16px;
                z-index: 10001;
                cursor: pointer;
            `;
            toggleBtn.onclick = () => {
                debugPanel.style.display = debugPanel.style.display === 'none' ? 'block' : 'none';
            };
            document.body.appendChild(toggleBtn);
            
            return debugPanel;
        }
        
        // è‡ªå®šç¾©console.logå‡½æ•¸
        let debugPanel;
        const originalLog = console.log;
        const originalError = console.error;
        
        function mobileLog(level, ...args) {
            // ä¿æŒåŸæœ‰åŠŸèƒ½
            if (level === 'error') {
                originalError.apply(console, args);
            } else {
                originalLog.apply(console, args);
            }
            
            // æ·»åŠ åˆ°è¦–è¦ºåŒ–é¢æ¿
            if (!debugPanel) {
                debugPanel = createMobileDebugPanel();
            }
            
            const message = args.map(arg => 
                typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
            ).join(' ');
            
            const logEntry = document.createElement('div');
            logEntry.style.color = level === 'error' ? '#ff4444' : '#00ff00';
            logEntry.style.marginBottom = '2px';
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            debugPanel.appendChild(logEntry);
            debugPanel.scrollTop = debugPanel.scrollHeight;
        }
        
        // é‡å¯«consoleæ–¹æ³•
        console.log = (...args) => mobileLog('log', ...args);
        console.error = (...args) => mobileLog('error', ...args);
        
        // å…¨åŸŸéŒ¯èª¤æ•ç²
        window.addEventListener('error', function(event) {
            console.error('[C3-å…¨åŸŸéŒ¯èª¤]', {
                message: event.message,
                filename: event.filename,
                line: event.lineno,
                column: event.colno,
                error: event.error?.toString()
            });
        });
        
        // Promise éŒ¯èª¤æ•ç²
        window.addEventListener('unhandledrejection', function(event) {
            console.error('[C3-PromiseéŒ¯èª¤]', event.reason);
        });
        
        // æ¸¬è©¦consoleæ˜¯å¦æ­£å¸¸å·¥ä½œ
        console.log('[C3-é™¤éŒ¯] è¦–è¦ºåŒ–é™¤éŒ¯ç³»çµ±å·²å•Ÿå‹•');
    </script>

</body>
</html>